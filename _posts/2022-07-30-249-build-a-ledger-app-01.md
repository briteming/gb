---
slug: 249-build-a-ledger-app-01
date: '2022-07-30'
layout: post
title: 做一个记账应用 01 - 制作 Notion 记账表格
tags:
  - Automation
  - Notion
issue: 249
---

自从从印象笔记搬迁到 Notion，便越来越痴迷于这个工具了，日常中很多东西我都记录在 Notion 上面，最近看了一些书推荐养成记账的习惯，正好老婆大人也有月度查账的要求，于是决定用 Notion 来管理日常的开销。

我的路线图大致这样的

1. 使用 Notion 制作一个记账表格，立马就可以先用起来
    
2. 使用 Automate 应用做一个手机上快速记账的脚本
    
3. 给 Notion 表格的日期自动设置默认值
    
4. 改进 Automate 脚本，一次可以记录多笔账目
    
5. 为账目表格制作月度汇总视图
    
6. 改进 Automate 脚本，如果某天没有记账，第二天早上给手机通知提醒
    

## 建立 Notion 表格

第一步很容易，Notion 很轻易就可以做一个表格出来。

![Notion 账本](https://github.com/greatghoul/greatghoul.github.io/assets/208966/dad274b4-e363-4f7f-9678-77c69d06b877)

我设计了这么几个字段

* 项目：表示账目的明目，内容最好简单明了
    
* 类型：单选类型，表示账目的用途或者类别，比如是采购了食材还是零食之类的
    
* 金额：数字类型，表示账目的人民币金额，如果是用别的币种支付的，我会自己做一下换算。
    
* 收支：公式，表示是收入还是支出，根据金额动态计算出来的
    
* 日期：账目发生的日期
    
* 备注：项目中需要额外解释的部分，大部分时间，可以不用填写
    

其中收支一项的公式如下，为了明显区分，使用了 Emoji

```erb
(prop("金额") > 0) ? "🟩 收入" : "🟥 支出"
```

如果你也想创建一个这样的表格，可以从这[这个模板](https://greatghoul.notion.site/653c089528b54f47955c172aee5878b3?v=8264c9fccc94450492d6da6911d33b21)快速开始

## 下一步计划

但是每次记账要 "打开 Notion → 打开表格 → 添加记录 → 点击各项填写" 感觉非常麻烦。之前用过一些语音记账的工具，觉得非常高效。

我日常使用讯飞语音输入法，语音识别不算什么问题，自己用，也不需要什么自然语言分析，其实有一个输入框，按照固定模式输入，然后正则解析出特定的内容即可。

比如 “早餐 7元 买饭”，自动解析出

* 项目：早餐
    
* 金额： -7
    
* 类型：买饭
    

有了这些信息，就可以使用 Automate 调用 Notion API 创建记录了。

---

* [Notion](https://www.notion.so/) - 一个在线文档协作工具，其表格功能非常出众
    
* [Automate App](https://play.google.com/store/apps/details?id=com.llamalab.automate&hl=en&gl=US) - Android 上面的一款自动化应用
